(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();function z(e){return(s={},i)=>{const a={};for(const t in e){const r=e[t];a[t]=r(s[t],i)}return a}}function be(e,s){let i=e;function a(){return i}function t(r){i=s(a(),r)}return{getState:a,dispatch:t}}var l=(e=>(e.rankingsDataSet="rankingsDataSet",e.topRanksSet="topRanksSet",e.updateKinchRanks="updateKinchRanks",e.allFiltersSet="allFiltersSet",e.ageFilterChanged="ageFilterChanged",e.wcaidFilterChanged="wcaidFilterChanged",e.regionFilterChanged="regionFilterChanged",e.pageFilterChanged="pageFilterChanged",e.rowsPerPageFilterChanged="rowsPerPageFilterChanged",e.controlStateChanged="controlStateChanged",e.searchTermChanged="searchTermChanged",e.eventScoreSortChanged="eventScoreSortChanged",e))(l||{});function Q(e){const[s,i]=e.split(" in "),[a,t]=s.split("/").map(Number),r=t-a,n=a-r,o=T(i);return{score:n,seconds:o,unsolved:r}}function T(e){const s=e.split(":").reverse();let i=0,a=1;for(const t of s)i+=Number(t)*a,a*=60;return i}const Z={333:!0,222:!0,444:!0,555:!0,666:!0,777:!0,"333bf":!1,"333fm":!1,"333oh":!0,clock:!0,minx:!0,pyram:!0,skewb:!0,sq1:!0,"444bf":!1,"555bf":!1,"333mbf":!1};function Se(e){return{type:l.topRanksSet,payload:e}}function _e(e,s,i){return{type:l.updateKinchRanks,payload:{rankings:e,topRanks:s,filters:i}}}function ee(e,s){const{type:i,payload:a}=s;switch(i){case l.topRanksSet:return{...e,topRanks:a};case l.updateKinchRanks:{const{rankings:t,topRanks:r,filters:n}=a;let o=t.data.persons.map(u=>te(t,r,n,u.id));return o=o.filter(u=>u.overall>0),o.sort((u,c)=>c.overall-u.overall),{...e,kinchRanks:o}}}return e}function te(e,s,i,a){const t=e.data,r=t.persons.find(c=>c.id===a);if(!r)throw new Error(`We were looking for someone's rankings but WCA ID "${a}" was not found.`);const n={personID:a,personName:r.name,overall:0,events:[]},o=t.countries[e.countryIDToIndex[r.country]],u=t.continents[e.continentIDToIndex[o.continent]];if(i.region!=="world"&&i.region!==o.id&&i.region!==u.id)return n;for(const c of t.events)r.events.includes(c.id)?c.id==="333mbf"?n.events.push(ie(s,r.id,c,i)):Z[c.id]?n.events.push(re(s,r.id,c,i)):n.events.push(ne(s,r.id,c,i)):n.events.push({eventID:c.id,eventName:c.name,score:0,result:"",type:null});return n.overall=n.events.reduce((c,d)=>c+d.score,0)/n.events.length,n}function S(e,s,i,a){return e.find(r=>r.eventID===s&&r.type===i&&r.age===a.age&&r.region===a.region)}function _(e,s,i,a){const t=e.rankings.find(n=>n.type===s&&n.age===a.age);if(!t)return;const r=t.ranks.find(n=>n.id===i);if(r)return r.best}function re(e,s,i,a){const t=S(e,i.id,"average",a),r=_(i,"average",s,a);return!r||!t?{eventID:i.id,eventName:i.name,score:0,result:"",type:null}:{eventID:i.id,eventName:i.name,score:D(i.format,t,r),result:r,type:"average"}}function ne(e,s,i,a){const t=S(e,i.id,"single",a),r=S(e,i.id,"average",a),n=_(i,"single",s,a),o=_(i,"average",s,a);if(!n||!t)return{eventID:i.id,eventName:i.name,score:0,result:"",type:null};let u,c=0,d;const R=D(i.format,t,n);if(o&&r){const F=D(i.format,r,o);R>F?(c=R,u=n,d="single"):(c=F,u=o,d="average")}else c=R,u=n,d="single";return{eventID:i.id,eventName:i.name,score:c,result:u,type:d}}function D(e,s,i){return e==="time"?T(s.result)/T(i)*100:Number(s.result)/Number(i)*100}function ie(e,s,i,a){const t=S(e,i.id,"single",a),r=_(i,"single",s,a);return!r||!t?{eventID:i.id,eventName:i.name,score:0,result:"",type:null}:{eventID:i.id,eventName:i.name,score:E(r)/E(t.result)*100,result:r,type:"single"}}function E(e){const s=Q(e);return s.score+1-s.seconds/(60*60)}function Re(e){return{type:l.allFiltersSet,payload:e}}function Ce(e){return{type:l.ageFilterChanged,payload:e}}function we(e){return{type:l.wcaidFilterChanged,payload:e}}function Pe(e){return{type:l.regionFilterChanged,payload:e}}function Oe(e){return{type:l.pageFilterChanged,payload:e}}function ae(e=q.filters,s){const{type:i,payload:a}=s;switch(i){case l.allFiltersSet:return{...e,...a};case l.ageFilterChanged:return{...e,age:a};case l.wcaidFilterChanged:return{...e,wcaid:a};case l.regionFilterChanged:return{...e,region:a};case l.pageFilterChanged:return{...e,page:a};case l.rowsPerPageFilterChanged:return{...e,rowsPerPage:a}}return e}function je(e){return{type:l.controlStateChanged,payload:e}}function Ae(e){return{type:l.searchTermChanged,payload:e}}function Te(e){return{type:l.eventScoreSortChanged,payload:e}}function se(e=q.uiState,s){switch(s.type){case l.controlStateChanged:return{...e,controlState:{...e.controlState,...s.payload}};case l.searchTermChanged:return{...e,userInputState:{...e.userInputState,searchTerm:s.payload}};case l.eventScoreSortChanged:return{...e,userInputState:{...e.userInputState,eventScoreSort:s.payload}}}return e}const q={rankings:{lastUpdated:"",data:{},competitionIDToIndex:{},personIDToIndex:{},continentIDToIndex:{},countryIDToIndex:{},activeRegions:{continents:[],countries:[]}},data:{kinchRanks:[],topRanks:[]},filters:{wcaid:void 0,age:40,region:"world",page:1,rowsPerPage:25},uiState:{controlState:{scrollX:window.scrollX,scrollY:window.scrollY,activeID:null,selectionStart:null,selectionEnd:null,selectionDirection:null},userInputState:{searchTerm:"",eventScoreSort:"event"}}},De=z({rankings:oe,data:ee,filters:ae,uiState:se});function qe(e){return{type:l.rankingsDataSet,payload:e}}function oe(e=q.rankings,s){const{type:i,payload:a}=s;switch(i){case l.rankingsDataSet:return a}return e}function Fe(e){const s=document.querySelector(e);function i(a){if(!s)throw new Error(`render(): "${e}" was not found`);Array.isArray(a)?s.replaceChildren(...a):s.replaceChildren(a)}return{render:i}}var g={},f={},v={},p={},C={},I;function ue(){return I||(I=1,Object.defineProperty(C,"__esModule",{value:!0})),C}var w={},k;function ce(){return k||(k=1,Object.defineProperty(w,"__esModule",{value:!0})),w}var P={},M;function le(){return M||(M=1,Object.defineProperty(P,"__esModule",{value:!0})),P}var O={},x;function de(){return x||(x=1,Object.defineProperty(O,"__esModule",{value:!0})),O}var j={},N;function fe(){return N||(N=1,Object.defineProperty(j,"__esModule",{value:!0})),j}var h={},L;function ge(){if(L)return h;L=1,Object.defineProperty(h,"__esModule",{value:!0}),h.classnames=r;const e=n=>Object.entries(n).map(([o,u])=>u&&o),s=n=>!!n,i=(n,o,u)=>u.indexOf(n)===o,a=[];function t(n){return n?typeof n=="string"?[n]:Array.isArray(n)?n.flatMap(t).filter(s):e(n).filter(s):a}function r(n){const o=t(n).filter(i);return o.length>0?o.join(" "):void 0}return h}var $;function pe(){return $||($=1,function(e){var s=p&&p.__createBinding||(Object.create?function(a,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(a,n,o)}:function(a,t,r,n){n===void 0&&(n=r),a[n]=t[r]}),i=p&&p.__exportStar||function(a,t){for(var r in a)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&s(t,a,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(ue(),e),i(ce(),e),i(le(),e),i(de(),e),i(fe(),e),i(ge(),e)}(p)),p}var H;function J(){if(H)return v;H=1,Object.defineProperty(v,"__esModule",{value:!0}),v.setAttributes=a;const e=pe();function s(t,r){for(const n of Object.keys(t))n in r&&(r[n]=t[n])}const i=/^on\p{Lu}/u;function a(t,r){for(const n of Object.keys(r)){if(n==="__source"||n==="__self"||n==="tsxTag")continue;const o=r[n];if(n==="class"){const u=(0,e.classnames)(o);u&&t.setAttribute(n,u)}else if(n==="ref")o.current=t;else if(i.test(n)){const u=n.replace(/Capture$/,""),c=n!==u,d=u.toLowerCase().substring(2);t.addEventListener(d,o,c)}else n==="style"&&typeof o!="string"?s(o,t.style):n==="dangerouslySetInnerHTML"?t.innerHTML=o:o===!0?t.setAttribute(n,n):(o||o===0||o==="")&&t.setAttribute(n,o.toString())}}return v}var y={},K;function X(){if(K)return y;K=1,Object.defineProperty(y,"__esModule",{value:!0}),y.applyChildren=s,y.createDomElement=i,y.applyTsxTag=a;function e(t,r){r instanceof Element?t.appendChild(r):typeof r=="string"||typeof r=="number"?t.appendChild(document.createTextNode(r.toString())):console.warn("Unknown type to append: ",r)}function s(t,r){for(const n of r)!n&&n!==0||(Array.isArray(n)?s(t,n):e(t,n))}function i(t,r){const n=r?.is?{is:r.is}:void 0;return r?.xmlns?document.createElementNS(r.xmlns,t,n):document.createElement(t,n)}function a(t,r){let n=t,o=r;return o&&"tsxTag"in o&&(n=o.tsxTag,!o.is&&t.includes("-")&&(o={...o,is:t})),{finalTag:n,finalAttrs:o}}return y}var U;function ye(){if(U)return f;U=1,Object.defineProperty(f,"__esModule",{value:!0}),f.createRef=f.h=void 0,f.createElement=i;const e=J(),s=X();function i(t,r,...n){if(typeof t=="function")return t({...r,children:n});const{finalTag:o,finalAttrs:u}=(0,s.applyTsxTag)(t,r),c=(0,s.createDomElement)(o,u);return u&&(0,e.setAttributes)(c,u),(0,s.applyChildren)(c,n),c}f.h=i;const a=()=>({current:null});return f.createRef=a,f}var b={},m={},V;function Y(){if(V)return m;V=1,Object.defineProperty(m,"__esModule",{value:!0}),m.jsx=i,m.jsxs=i,m.jsxDEV=i;const e=J(),s=X();function i(a,t){if(typeof a=="function")return a(t);const{children:r,...n}=t,{finalTag:o,finalAttrs:u}=(0,s.applyTsxTag)(a,n),c=(0,s.createDomElement)(o,u);return(0,e.setAttributes)(c,u),(0,s.applyChildren)(c,[r]),c}return m}var B;function me(){if(B)return b;B=1,Object.defineProperty(b,"__esModule",{value:!0}),b.defineCustomElement=s;const e=Y();function s(i,a,t){return customElements.define(i,a,t),r=>(0,e.jsx)(i,r)}return b}var A={},G;function ve(){return G||(G=1,Object.defineProperty(A,"__esModule",{value:!0})),A}var W;function he(){return W||(W=1,function(e){var s=g&&g.__createBinding||(Object.create?function(a,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(a,n,o)}:function(a,t,r,n){n===void 0&&(n=r),a[n]=t[r]}),i=g&&g.__exportStar||function(a,t){for(var r in a)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&s(t,a,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(ye(),e),i(me(),e),i(Y(),e),i(ve(),e)}(g)),g}var Ee=he();function Ie(e,s=300){let i=null;return(...a)=>{i!==null&&window.clearTimeout(i),i=window.setTimeout(()=>e(...a),s)}}export{Ie as a,Fe as b,z as c,Ee as d,be as e,De as f,Z as g,we as h,q as i,Pe as j,Oe as k,Ae as l,Ce as m,je as n,_e as o,Q as p,Re as q,oe as r,Te as s,T as t,qe as u,Se as v};
